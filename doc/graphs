graph LR

GetSessionInfo("Get Session Info")
GetGeoInfo(Get Geo Info)
GetAuthorizedLocations(Get Authorized Locations)
ValidateDistance(Validate Distance)
StoreEvent(Store Event)

GetSessionInfo --IP address--> GetGeoInfo
GetSessionInfo --user id--> GetAuthorizedLocations
GetGeoInfo --location--> ValidateDistance
GetAuthorizedLocations --authorized locations--> ValidateDistance
ValidateDistance --is authorized--> StoreEvent
ValidateDistance -.- IsAuthorized[is authorized]

style IsAuthorized fill: #70d66b
